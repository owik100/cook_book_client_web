{"version":3,"sources":["logo.svg","helpers/Authentication.js","components/Header.js","helpers/AuthHeaders.js","API/APIHelper.js","components/LoginForm.js","Main.js","API/RecipesEndPointAPI.js","components/Recipes.js","components/RecipePreview.js","components/About.js","components/RegisterForm.js","components/AddOrEdit.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Authentication","SaveToken","token","remember","Cookie","set","expires","LoadToken","get","LogOut","remove","isAuthenticated","SaveUserData","userJson","userName","email","id","favouriteRecipes","LoadUserEmail","LoadUserId","LoadUserName","LoadUserFavouritesRecipes","SaveFavouritesRecipes","Header","Navbar","variant","bg","sticky","expand","Brand","as","Link","to","Toggle","aria-controls","Collapse","Nav","className","Text","history","useHistory","onClick","push","AuthButton","AuthHeaders","GetBearer","APIHelper","Register","LogIn","GetUserData","EditUser","API_URL","process","Email","UserName","Password","ConfirmPassword","a","requestOptions","method","headers","body","JSON","stringify","fetch","then","response","ok","text","Promise","reject","catch","error","username","password","URLSearchParams","append","json","Authorization","FavouriteRecipes","Id","formdata","FormData","LoginForm","handleCheckboxChange","event","setState","RememberMe","target","checked","state","Login","InfoMessage","DuringOperation","isLogged","handleChange","bind","handleSubmit","this","name","value","data","console","log","access_Token","obj","parse","message","preventDefault","class","Spinner","animation","role","Alert","Form","onSubmit","LoginMessage","Group","controlId","Label","Control","type","required","placeholder","onChange","Check","label","Button","Component","Main","RecipesEndPointAPI","GetAllRecipesLoggedUser","DownloadImage","DeleteRecipes","InsertRecipe","GetRecipeByID","PutRecipes","GetPublicRecipes","GetFavouritesRecipes","PageSize","PageNumber","blob","RecipeName","Instructions","IngredientsArr","Image","isPublic","Ingredients","join","RecipeId","NameOfImage","Recipes","props","UserOrPublicOrFavourites","CanNext","CanPrevious","TotalPages","PageNumberUserRecipes","PageNumberPublicRecipes","PageNumberFavouritesRecipes","PreviousPage","NextPage","nextProps","CheckPath","pathName","window","location","hash","forEach","element","DisplayAsPublic","favourites","DisplayAsFavourite","includes","recipeId","DisplayAsFavourites","pageNumberUser","pageBackUser","pageNumberPublic","pageBackPublic","pageNumberFavourites","pageBackFavourites","undefined","pageNumber","LoadPublicRecipes","LoadUserRecipes","LoadFavouritesRecipes","AddDisplayAsPublicProperty","length","totalPages","NavigationButtonsActiveDeactive","DonwloadRecipeImage","LoadUserData","AddDisplayAsFavouritesProperty","outside","that","item","key","nameOfImage","image","map","el","URL","createObjectURL","actualPage","prevstate","recipes","Col","sm","md","lg","xl","pathname","recipeProps","UserOrPublicOrFavouritesProps","src","Container","fluid","Row","size","disabled","RecipePreview","Name","ID","showModal","RecipeDeleted","LastVisit","PageBack","IsFavourite","handleModalClose","handleModalShow","handleRecipeDelete","handleFavouriteCLick","match","params","instruction","ingredients","PageBackUser","PageBackPublic","PageBackFavourites","localBoolFavourites","favourtesArr","index","indexOf","splice","arraySemicolon","Modal","centered","closeButton","Title","Body","Footer","delete","onHide","editButton","deleteButton","authorInfo","favouriteButton","ModalDelete","show","About","useState","appVersion","setAppVersion","useEffect","href","rel","RegisterForm","InfoMessageIsError","CanRegister","ClearForm","output","document","getElementById","reset","RegisterMessage","AddOrEdit","Edit","CanSubmit","IngredientsInput","SelectedIngredient","ImagePreview","ImageName","OperationComplete","onChangeFile","handleIngredientAdd","handleRecipeClick","handleIngredientRemove","DeleteImage","bsCustomFileInput","init","e","nextState","innerHTML","filter","x","fileName","files","fileExt","split","pop","file","reader","FileReader","readAsDataURL","onloadend","result","ListGroup","Item","active","action","SubmitMessage","style","height","accept","for","PrivateRoute","component","rest","exact","strict","path","render","from","App","Boolean","hostname","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.7f005800.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","import React from 'react';\r\nimport Cookie from \"js-cookie\"\r\n\r\nexport const Authentication = {\r\n    SaveToken,\r\n    LoadToken,\r\n    LogOut,\r\n    isAuthenticated,\r\n    SaveUserData,\r\n    LoadUserEmail,\r\n    LoadUserId,\r\n    LoadUserName,\r\n    LoadUserFavouritesRecipes,\r\n    SaveFavouritesRecipes\r\n};\r\n\r\n\r\nfunction SaveToken(token, remember) {\r\n    if (remember) {\r\n        Cookie.set(\"JWT\", token, { expires: 7 });\r\n    }\r\n    else {\r\n        Cookie.set(\"JWT\", token)\r\n    }\r\n}\r\n\r\nfunction LoadToken() {\r\n    return Cookie.get(\"JWT\") ? Cookie.get(\"JWT\") : null;\r\n}\r\n\r\nfunction LogOut() {\r\n    Cookie.remove('JWT');\r\n    Cookie.remove('userName');\r\n    Cookie.remove('email');\r\n    Cookie.remove('id');\r\n}\r\n\r\nfunction isAuthenticated() {\r\n    return Cookie.get(\"JWT\") ? true : false;\r\n}\r\n\r\nfunction SaveUserData(userJson) {\r\n    Cookie.set(\"userName\", userJson.userName, { expires: 7 });\r\n    Cookie.set(\"email\", userJson.email, { expires: 7 });\r\n    Cookie.set(\"id\", userJson.id, { expires: 7 });\r\n    Cookie.set(\"favouriteRecipes\", userJson.favouriteRecipes, { expires: 7 });\r\n}\r\n\r\nfunction LoadUserName() {\r\n    return Cookie.get(\"userName\") ? Cookie.get(\"userName\") : null;\r\n}\r\n\r\nfunction LoadUserEmail() {\r\n    return Cookie.get(\"email\") ? Cookie.get(\"email\") : null;\r\n}\r\n\r\nfunction LoadUserId() {\r\n    return Cookie.get(\"id\") ? Cookie.get(\"id\") : null;\r\n}\r\n\r\nfunction LoadUserFavouritesRecipes() {\r\n    return Cookie.get(\"favouriteRecipes\") ? Cookie.get(\"favouriteRecipes\") : null;\r\n}\r\n\r\nfunction SaveFavouritesRecipes(favouriteRecipes)\r\n{\r\n    Cookie.set(\"favouriteRecipes\", favouriteRecipes, { expires: 7 });\r\n}\r\n","import React from 'react'\r\nimport { Navbar, Nav } from 'react-bootstrap';\r\nimport { Link, useHistory, } from \"react-router-dom\";\r\nimport { Authentication } from '../helpers/Authentication'\r\n\r\n\r\n\r\nfunction AuthButton() {\r\n    let history = useHistory();\r\n    return Authentication.isAuthenticated() ? (\r\n\r\n        <Nav.Link\r\n            onClick={() => {\r\n                Authentication.LogOut(() => history.push(\"/\"));\r\n\r\n            }}\r\n            as={Link} to=\"/Login\">\r\n            Wyloguj\r\n          </Nav.Link>\r\n    ) : (\r\n            <Nav.Link as={Link} to=\"/Login\">\r\n                Zaloguj się\r\n     </Nav.Link>\r\n        );\r\n}\r\n\r\nfunction GetName() {\r\n    if (Authentication.LoadUserName() != null && Authentication.isAuthenticated()) {\r\n        return (\r\n            <Navbar.Text className=\"AboutUser\">\r\n                Witaj {Authentication.LoadUserName() +\"!\"}\r\n            </Navbar.Text>\r\n        )\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\n\r\nfunction NavIfLogged() {\r\n\r\n    if (Authentication.LoadUserName() != null && Authentication.isAuthenticated()) {\r\n        return (\r\n            <Nav className=\"mr-auto\">\r\n                <Nav.Link as={Link} to=\"/Edit/0\" >Dodaj przepis</Nav.Link>\r\n                <Nav.Link as={Link} to=\"/UserRecipes\" >Moje przepisy</Nav.Link>\r\n                <Nav.Link as={Link} to=\"/PublicRecipes\" >Odkrywaj przepisy</Nav.Link>\r\n                <Nav.Link as={Link} to=\"/FavouritesRecipes\" >Ulubione przepisy</Nav.Link>\r\n            </Nav>\r\n        )\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\n\r\nfunction Header() {\r\n    return (\r\n        <header>\r\n            <Navbar variant=\"dark\" bg=\"primary\" sticky=\"top\" expand=\"lg\">\r\n                <Navbar.Brand as={Link} to=\"/UserRecipes\">Cook Book</Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    {NavIfLogged()}\r\n                    <Nav className=\"justify-content-end\">\r\n                    <Nav.Link className=\"mr-3\" as={Link} to=\"/About\" >O aplikacji</Nav.Link>\r\n                        {GetName()}\r\n                        {AuthButton()}\r\n                    </Nav>\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nimport { Authentication } from \"../helpers/Authentication\"\r\n\r\nexport const AuthHeaders = {\r\n    GetBearer,\r\n};\r\n\r\nfunction GetBearer() {\r\n    let authHeader = 'bearer ' + Authentication.LoadToken()\r\n\r\n    return authHeader;\r\n}\r\n\r\n","import React from 'react';\r\nimport { AuthHeaders } from '../helpers/AuthHeaders'\r\nimport { Authentication } from '../helpers/Authentication'\r\n\r\nexport const APIHelper = {\r\n    Register,\r\n    LogIn,\r\n    GetUserData,\r\n    EditUser\r\n};\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nasync function Register(Email, UserName, Password, ConfirmPassword) {\r\n\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ Email, UserName, Password, ConfirmPassword })\r\n    };\r\n\r\n    return await fetch(API_URL + '/api/Account/register', requestOptions)\r\n        .then(response => {\r\n            // reject not ok response\r\n            if (!response.ok) {\r\n                return Promise.reject(response)\r\n            }\r\n            return response.text()\r\n        })\r\n        // catch error response and extract the error message\r\n        .catch(async response => {\r\n            const error = await response.text().then(text => text)\r\n            return Promise.reject(error)\r\n        })\r\n};\r\n\r\n\r\nasync function LogIn(username, password) {\r\n\r\n    let body = new URLSearchParams();\r\n    body.append(\"grant_type\", \"password\");\r\n    body.append(\"username\", username);\r\n    body.append(\"password\", password);\r\n\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n        body: body\r\n    };\r\n\r\n    return await fetch(API_URL + '/token', requestOptions)\r\n        .then(response => {\r\n            // reject not ok response\r\n            if (!response.ok) {\r\n                return Promise.reject(response)\r\n            }\r\n            return response.json()\r\n        })\r\n        // catch error response and extract the error message\r\n        .catch(async response => {\r\n            const error = await response.text().then(text => text)\r\n            return Promise.reject(error)\r\n        })\r\n};\r\n\r\n\r\nasync function GetUserData() {\r\n\r\n    let Authorization = AuthHeaders.GetBearer()\r\n\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization,\r\n        },\r\n    };\r\n\r\n    return await fetch(API_URL + '/api/User', requestOptions)\r\n        .then(response => {\r\n            // reject not ok response\r\n            if (!response.ok) {\r\n                return Promise.reject(response)\r\n            }\r\n            return response.json()\r\n        })\r\n        // catch error response and extract the error message\r\n        .catch(async response => {\r\n            const error = await response.text().then(text => text)\r\n            return Promise.reject(error)\r\n        })\r\n}\r\n\r\n\r\nasync function EditUser(FavouriteRecipes) {\r\n\r\n    let Authorization = AuthHeaders.GetBearer()\r\n\r\n    let Id = Authentication.LoadUserId();\r\n    let UserName = Authentication.LoadUserName();\r\n    let Email = Authentication.LoadUserEmail();\r\n\r\n    var formdata = new FormData();\r\n    formdata.append(\"Id\", Id);\r\n    formdata.append(\"UserName\", UserName);\r\n    formdata.append(\"Email\", Email);\r\n    formdata.append(\"FavouriteRecipes\", FavouriteRecipes);\r\n\r\n    const requestOptions = {\r\n        method: 'PUT',\r\n        headers: {\r\n            Authorization,\r\n        },\r\n        body: formdata,\r\n    };\r\n\r\n    return await fetch(API_URL + `/api/User/${Id}`, requestOptions)\r\n    .then(response => {\r\n        // reject not ok response\r\n        if (!response.ok) {\r\n            return Promise.reject(response)\r\n        }\r\n        return response.text()\r\n    })\r\n    // catch error response and extract the error message\r\n    .catch(async response => {\r\n        const error = await response.text().then(text => text)\r\n        return Promise.reject(error)\r\n    })\r\n}\r\n","import React, { Component } from 'react'\r\nimport { Form, Button, Spinner, Alert } from 'react-bootstrap';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { Authentication } from \"../helpers/Authentication\"\r\nimport { APIHelper } from '../API/APIHelper';\r\n\r\nclass LoginForm extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            Login: \"\",\r\n            Password: \"\",\r\n            RememberMe: false,\r\n            InfoMessage: \"\",\r\n            DuringOperation: false,\r\n            isLogged: false,\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleCheckboxChange = this.handleCheckboxChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (Authentication.isAuthenticated()) {\r\n            this.setState({ isLogged: true })\r\n        }\r\n    }\r\n\r\n    handleChange(event) {\r\n        const { name, value } = event.target\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    handleCheckboxChange = event =>\r\n    this.setState({ RememberMe: event.target.checked })\r\n\r\n    handleSubmit(event) {\r\n        this.setState({ DuringOperation: true })\r\n\r\n        let result = APIHelper.LogIn(this.state.Login, this.state.Password)\r\n        result.then(data => {\r\n            console.log(\"Zalogowano\")\r\n            this.setState({ InfoMessage: \"\" })\r\n            this.setState({ DuringOperation: false })\r\n\r\n            Authentication.SaveToken(data.access_Token, this.state.RememberMe)\r\n            this.GetUserData();\r\n        })\r\n            .catch(error => {\r\n                //Connection problem\r\n                if (error == \"TypeError: response.text is not a function\") {\r\n                    console.log('Problem z połączeniem')\r\n                    this.setState({ InfoMessage: 'Problem z połączeniem' })\r\n                    this.setState({ DuringOperation: false })\r\n                }\r\n                else {\r\n                    try {\r\n                        var obj = JSON.parse(error)\r\n                        console.log(obj.message)\r\n                        this.setState({ InfoMessage: obj.message })\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                    //Another problem...\r\n                    catch (error) {\r\n                        console.log(error);\r\n                    }\r\n                }\r\n            })\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    GetUserData() {\r\n        let result = APIHelper.GetUserData()\r\n\r\n        result.then(data => {\r\n            console.log(\"Pobrano dane użytkownika\")\r\n            Authentication.SaveUserData(data);\r\n            this.setState({ isLogged: true })\r\n        })\r\n            .catch(error => {\r\n                //Connection problem\r\n                if (error == \"TypeError: response.text is not a function\") {\r\n                    console.log('Problem z połączeniem')\r\n                    this.setState({ InfoMessage: 'Problem z połączeniem' })\r\n                    this.setState({ DuringOperation: false })\r\n                }\r\n                else {\r\n                    try {\r\n                        var obj = JSON.parse(error)\r\n                        console.log(obj.message)\r\n                        this.setState({ InfoMessage: obj.message })\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                    //Another problem...\r\n                    catch (error) {\r\n                        console.log(error);\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    LoginMessage() {\r\n        if (this.state.DuringOperation) {\r\n            return (\r\n                <div class=\"d-flex justify-content-center\">\r\n                    <Spinner animation=\"grow\" variant=\"primary\" role=\"status\">\r\n                        <span className=\"sr-only my-auto mx-auto\">Loading...</span>\r\n                    </Spinner>\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            if (this.state.InfoMessage != \"\") {\r\n                return (\r\n                    <Alert className=\"text-center mt-3\" variant=\"danger\">\r\n                    {this.state.InfoMessage}\r\n                </Alert>\r\n                );\r\n            }\r\n            else {\r\n                return null\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.isLogged === true) {\r\n            return <Redirect to='/UserRecipes' />\r\n        }\r\n\r\n        return (\r\n            <div class=\"container\">\r\n                <div class=\"row\">\r\n                    <div class=\"col\">\r\n                        <Form onSubmit={this.handleSubmit}>\r\n                            <h1 className=\"display-3 text-center mt-5\">Logowanie</h1>\r\n\r\n                            {this.LoginMessage()}\r\n\r\n                            <Form.Group controlId=\"formLogin\">\r\n                                <Form.Label>Login</Form.Label>\r\n                                <Form.Control type=\"text\" required placeholder=\"Enter login\" name=\"Login\" onChange={this.handleChange} value={this.state.Login} />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formPassword\">\r\n                                <Form.Label>Hasło</Form.Label>\r\n                                <Form.Control type=\"password\" required placeholder=\"Password\" name=\"Password\" onChange={this.handleChange} value={this.state.Password} />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formRemember\">\r\n                                <Form.Check type=\"checkbox\" label=\"Zapamiętaj\" name=\"RememberMe\" onChange={this.handleCheckboxChange} checked={this.state.RememberMe} />\r\n                            </Form.Group>\r\n\r\n                            <div class=\"d-flex justify-content-center\">\r\n                                <Button variant=\"primary\" type=\"submit\">\r\n                                    Zaloguj\r\n                        </Button>\r\n                            </div>\r\n                        </Form>\r\n                    </div>\r\n                </div>\r\n                <h1 className=\"lead text-center mt-3\">Nie masz jeszcze konta? Zarejestruj się!</h1>\r\n                <div class=\"d-flex justify-content-center\">\r\n                    <Button variant=\"outline-primary\" as={Link} to=\"/Register\"  >\r\n                        Zarejestruj\r\n            </Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default LoginForm","import React from 'react'\r\n\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\n\r\nimport {Authentication} from '../src/helpers/Authentication'\r\n\r\nfunction Main()\r\n{\r\n    return(\r\n        <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n          <p>\r\n            Edit <code>src/App.js</code> and save to reload.\r\n          </p>\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://reactjs.org\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            Learn React\r\n          </a>\r\n        </header>\r\n        <button\r\n        onClick={() => {\r\n          Authentication.DeleteToken();\r\n        }}\r\n      >\r\n        Sign out\r\n      </button>\r\n      </div>\r\n    ) \r\n}\r\n\r\nexport default Main","import React from 'react';\r\nimport { AuthHeaders } from '../helpers/AuthHeaders'\r\n\r\nexport const RecipesEndPointAPI = {\r\n    GetAllRecipesLoggedUser,\r\n    DownloadImage,\r\n    DeleteRecipes,\r\n    InsertRecipe,\r\n    GetRecipeByID,\r\n    PutRecipes,\r\n    GetPublicRecipes,\r\n    GetFavouritesRecipes\r\n};\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL;\r\n\r\nasync function GetRecipeByID(Id) {\r\n    let Authorization = AuthHeaders.GetBearer()\r\n\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization,\r\n        },\r\n    };\r\n\r\n    return await fetch(API_URL + `/api/Recipes/${Id}`, requestOptions)\r\n        .then(response => {\r\n            // reject not ok response\r\n            if (!response.ok) {\r\n                return Promise.reject(response)\r\n            }\r\n            return response.json()\r\n        })\r\n        // catch error response and extract the error message\r\n        .catch(async response => {\r\n            const error = await response.text().then(text => text)\r\n            return Promise.reject(error)\r\n        })\r\n}\r\n\r\n\r\nasync function GetAllRecipesLoggedUser(PageSize, PageNumber) {\r\n    let Authorization = AuthHeaders.GetBearer()\r\n\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization,\r\n        },\r\n    };\r\n\r\n    return await  fetch(API_URL + `/api/Recipes/CurrentUserRecipes/${PageSize}/${PageNumber}`, requestOptions)\r\n        .then(response => {\r\n            // reject not ok response\r\n            if (!response.ok) {\r\n                return Promise.reject(response)\r\n            }\r\n            return response.json()\r\n        })\r\n        // catch error response and extract the error message\r\n        .catch(async response => {\r\n            const error = await response.text().then(text => text)\r\n            return Promise.reject(error)\r\n        })\r\n}\r\n\r\n\r\nasync function GetPublicRecipes(PageSize, PageNumber) {\r\n    let Authorization = AuthHeaders.GetBearer()\r\n\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization,\r\n        },\r\n    };\r\n\r\n    return await  fetch(API_URL + `/api/Recipes/GetPublicRecipes/${PageSize}/${PageNumber}`, requestOptions)\r\n        .then(response => {\r\n            // reject not ok response\r\n            if (!response.ok) {\r\n                return Promise.reject(response)\r\n            }\r\n            return response.json()\r\n        })\r\n        // catch error response and extract the error message\r\n        .catch(async response => {\r\n            const error = await response.text().then(text => text)\r\n            return Promise.reject(error)\r\n        })\r\n}\r\n\r\nasync function GetFavouritesRecipes(PageSize, PageNumber) {\r\n    let Authorization = AuthHeaders.GetBearer()\r\n\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization,\r\n        },\r\n    };\r\n\r\n    return await  fetch(API_URL + `/api/Recipes/GetFavouritesRecipes/${PageSize}/${PageNumber}`, requestOptions)\r\n        .then(response => {\r\n            // reject not ok response\r\n            if (!response.ok) {\r\n                return Promise.reject(response)\r\n            }\r\n            return response.json()\r\n        })\r\n        // catch error response and extract the error message\r\n        .catch(async response => {\r\n            const error = await response.text().then(text => text)\r\n            return Promise.reject(error)\r\n        })\r\n}\r\n\r\n\r\nasync function DownloadImage(id) {\r\n    let Authorization = AuthHeaders.GetBearer()\r\n\r\n    const requestOptions = {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization,\r\n        },\r\n    };\r\n\r\n    return await  fetch(API_URL + `/api/Recipes/GetPhoto/${id}`, requestOptions)\r\n        .then(response => {\r\n            // reject not ok response\r\n            if (!response.ok) {\r\n                return Promise.reject(response)\r\n            }\r\n            return response.blob()\r\n        })\r\n        // catch error response and extract the error message\r\n        .catch(async response => {\r\n            const error = await response.text().then(text => text)\r\n            return Promise.reject(error)\r\n        })\r\n}\r\n\r\n\r\nasync function DeleteRecipes(id) {\r\n    let Authorization = AuthHeaders.GetBearer()\r\n\r\n    const requestOptions = {\r\n        method: 'DELETE',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization,\r\n        },\r\n    };\r\n\r\n    return await  fetch(API_URL + `/api/Recipes/${id}`, requestOptions)\r\n        .then(response => {\r\n            // reject not ok response\r\n            if (!response.ok) {\r\n                return Promise.reject(response)\r\n            }\r\n            return response.text()\r\n        })\r\n        // catch error response and extract the error message\r\n        .catch(async response => {\r\n            const error = await response.text().then(text => text)\r\n            return Promise.reject(error)\r\n        })\r\n}\r\n\r\n\r\nasync function InsertRecipe(RecipeName, Instructions, IngredientsArr, Image, isPublic) {\r\n    let Authorization = AuthHeaders.GetBearer()\r\n\r\n    let Ingredients = IngredientsArr.join(\";\");\r\n\r\n    var formdata = new FormData();\r\n    formdata.append(\"Name\", RecipeName);\r\n    formdata.append(\"Instruction\", Instructions);\r\n    formdata.append(\"Ingredients\", Ingredients);\r\n    formdata.append(\"Image\", Image);\r\n    formdata.append(\"isPublic\", isPublic);\r\n\r\n    const requestOptions = {\r\n        method: 'POST',\r\n        headers: {\r\n            Authorization,\r\n        },\r\n        body: formdata,\r\n    };\r\n\r\n    return await  fetch(API_URL + '/api/Recipes/', requestOptions)\r\n        .then(response => {\r\n            // reject not ok response\r\n            if (!response.ok) {\r\n                return Promise.reject(response)\r\n            }\r\n            return response.text()\r\n        })\r\n        // catch error response and extract the error message\r\n        .catch(async response => {\r\n            const error = await response.text().then(text => text)\r\n            return Promise.reject(error)\r\n        })\r\n}\r\n\r\nasync function PutRecipes(id, RecipeId, RecipeName, Instructions, IngredientsArr, Image, NameOfImage, isPublic) {\r\n    let Authorization = AuthHeaders.GetBearer()\r\n\r\n    let Ingredients = IngredientsArr.join(\";\");\r\n\r\n    var formdata = new FormData();\r\n    formdata.append(\"Name\", RecipeName);\r\n    formdata.append(\"Instruction\", Instructions);\r\n    formdata.append(\"Ingredients\", Ingredients);\r\n    formdata.append(\"Image\", Image);\r\n    formdata.append(\"NameOfImage\", NameOfImage);\r\n    formdata.append(\"RecipeId\", RecipeId);\r\n    formdata.append(\"isPublic\", isPublic);\r\n\r\n    const requestOptions = {\r\n        method: 'PUT',\r\n        headers: {\r\n            Authorization,\r\n        },\r\n        body: formdata,\r\n    };\r\n\r\n    return await fetch(API_URL + `/api/Recipes/${id}`, requestOptions)\r\n        .then(response => {\r\n            // reject not ok response\r\n            if (!response.ok) {\r\n                return Promise.reject(response)\r\n            }\r\n            return response.text()\r\n        })\r\n        // catch error response and extract the error message\r\n        .catch(async response => {\r\n            const error = await response.text().then(text => text)\r\n            return Promise.reject(error)\r\n        })\r\n}","import React, { Component } from 'react'\r\nimport { RecipesEndPointAPI } from '../API/RecipesEndPointAPI'\r\nimport { Spinner, Container, Row, Col, Alert, Button } from 'react-bootstrap';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Authentication } from \"../helpers/Authentication\"\r\nimport { APIHelper } from '../API/APIHelper';\r\n\r\nclass Recipes extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            DuringOperation: false,\r\n            UserOrPublicOrFavourites: \"User\",\r\n            InfoMessage: \"\",\r\n            Recipes: [],\r\n            CanNext : false,\r\n            CanPrevious: false,\r\n            PageSize : 15,\r\n            TotalPages : 1,\r\n            PageNumberUserRecipes : 1,\r\n            PageNumberPublicRecipes : 1,\r\n            PageNumberFavouritesRecipes : 1,\r\n        }\r\n\r\n        this.PreviousPage = this.PreviousPage.bind(this);\r\n        this.NextPage = this.NextPage.bind(this);\r\n    }\r\n\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n       this.CheckPath()\r\n    }\r\n    \r\n\r\n    componentDidMount() {\r\n        this.CheckPath()\r\n    }\r\n\r\n\r\n    AddDisplayAsPublicProperty(data)\r\n    {\r\n        let pathName = window.location.hash;\r\n\r\n        data.forEach(function (element) {\r\n            element.DisplayAsPublic = false;\r\n            if(element.isPublic && element.userName === Authentication.LoadUserName() && (pathName === \"#/PublicRecipes\" || pathName === \"#/UserRecipes\"|| pathName === \"#/\" || pathName === \"/\"))\r\n            {\r\n                element.DisplayAsPublic = true;\r\n            }\r\n            else{\r\n                element.DisplayAsPublic = false;\r\n            }   \r\n          });\r\n    }\r\n\r\n    AddDisplayAsFavouritesProperty(data)\r\n    {\r\n        let pathName = window.location.hash;\r\n        let favourites = Authentication.LoadUserFavouritesRecipes()\r\n\r\n        data.forEach(function (element) {\r\n            element.DisplayAsFavourite = false;\r\n            if(pathName === \"#/PublicRecipes\" && favourites.includes(element.recipeId))\r\n            {\r\n                element.DisplayAsFavourite = true;\r\n            }\r\n            else{\r\n                element.DisplayAsFavourites = false;\r\n            }   \r\n          });\r\n    }\r\n\r\n    CheckPath()\r\n    {\r\n        try {\r\n            let pathName = window.location.hash;\r\n\r\n        let pageNumberUser = this.props.location.pageBackUser\r\n        let pageNumberPublic = this.props.location.pageBackPublic\r\n        let pageNumberFavourites = this.props.location.pageBackFavourites\r\n\r\n        if(pageNumberUser != undefined)\r\n        this.setState({ PageNumberUserRecipes: pageNumberUser})\r\n\r\n        if(pageNumberPublic != undefined)\r\n        this.setState({ PageNumberPublicRecipes: pageNumberPublic})\r\n\r\n        if(pageNumberFavourites != undefined)\r\n        this.setState({ PageNumberFavouritesRecipes: pageNumberFavourites})\r\n\r\n             if (pathName === \"#/PublicRecipes\") {\r\n                let pageNumber = this.props.location.pageBackPublic\r\n                if(pageNumber === undefined)\r\n                pageNumber = this.state.PageNumberPublicRecipes\r\n\r\n                 this.setState({ PageNumberPublicRecipes: pageNumber})\r\n                 this.setState({ UserOrPublicOrFavourites: \"Public\" })\r\n                 this.LoadPublicRecipes(this.state.PageSize, pageNumber)\r\n             }\r\n             else if(pathName === \"#/UserRecipes\") {\r\n                let pageNumber = this.props.location.pageBackUser\r\n                if(pageNumber === undefined)\r\n                pageNumber = this.state.PageNumberUserRecipes\r\n\r\n                this.setState({ PageNumberUserRecipes: pageNumber})\r\n                 this.setState({ UserOrPublicOrFavourites: \"User\" })\r\n                 this.LoadUserRecipes(this.state.PageSize, pageNumber)\r\n             }\r\n             else if(pathName === \"#/FavouritesRecipes\") {\r\n                let pageNumber = this.props.location.pageBackFavourites\r\n                if(pageNumber === undefined)\r\n                pageNumber = this.state.PageNumberFavouritesRecipes\r\n\r\n                this.setState({ PageNumberFavouritesRecipes: pageNumber})\r\n                 this.setState({ UserOrPublicOrFavourites: \"Favourites\" })\r\n                 this.LoadFavouritesRecipes(this.state.PageSize, pageNumber)\r\n             }\r\n             else{\r\n                this.setState({ UserOrPublicOrFavourites: \"User\" })\r\n                this.LoadUserRecipes(this.state.PageSize, this.state.PageNumberUserRecipes)\r\n             }\r\n \r\n \r\n         } catch (error) {\r\n             this.setState({ UserOrPublicOrFavourites: \"User\" })\r\n             this.LoadUserRecipes(this.state.PageSize, this.state.PageNumberUserRecipes)\r\n         }\r\n    }\r\n\r\n    LoadUserRecipes(PageSize, PageNumber) {\r\n        this.setState({ DuringOperation: true })\r\n\r\n        let result = RecipesEndPointAPI.GetAllRecipesLoggedUser(PageSize, PageNumber)\r\n\r\n        result.then(data => {\r\n            console.log(\"Pobrano dane użytkownika\")\r\n            this.AddDisplayAsPublicProperty(data)\r\n            this.setState({ Recipes: data })\r\n            this.setState({ DuringOperation: false })\r\n\r\n            if(data.length > 0)\r\n            {\r\n                this.setState({TotalPages : data[0].totalPages})\r\n            }\r\n            else{\r\n                this.setState({TotalPages : 1})\r\n            }\r\n\r\n            this.NavigationButtonsActiveDeactive(PageNumber)\r\n            this.DonwloadRecipeImage();\r\n        })\r\n            .catch(error => {\r\n                //Connection problem\r\n                if (error == \"TypeError: response.text is not a function\") {\r\n                    this.setState({ InfoMessage: \"Problem z połączeniem\" })\r\n                    console.log('Problem z połączeniem')\r\n                    this.setState({ DuringOperation: false })\r\n                }\r\n                else {\r\n                    try {\r\n                        var obj = JSON.parse(error)\r\n                        console.log(obj.message)\r\n                        this.setState({ InfoMessage: obj.message })\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                    //Another problem...\r\n                    catch (error) {\r\n                        console.log(error);\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    LoadPublicRecipes(PageSize, PageNumber) {\r\n        this.setState({ DuringOperation: true })\r\n\r\n        this.LoadUserData();\r\n\r\n        let result = RecipesEndPointAPI.GetPublicRecipes(PageSize, PageNumber)\r\n\r\n        result.then(data => {\r\n            console.log(\"Pobrano dane użytkownika\")\r\n            this.AddDisplayAsPublicProperty(data)\r\n            this.AddDisplayAsFavouritesProperty(data)\r\n            this.setState({ Recipes: data })\r\n            this.setState({ DuringOperation: false })\r\n\r\n            if(data.length > 0)\r\n            {\r\n                this.setState({TotalPages : data[0].totalPages})\r\n            }\r\n            else{\r\n                this.setState({TotalPages : 1})\r\n            }\r\n\r\n            this.NavigationButtonsActiveDeactive(PageNumber)\r\n            this.DonwloadRecipeImage();\r\n        })\r\n            .catch(error => {\r\n                //Connection problem\r\n                if (error == \"TypeError: response.text is not a function\") {\r\n                    this.setState({ InfoMessage: \"Problem z połączeniem\" })\r\n                    console.log('Problem z połączeniem')\r\n                    this.setState({ DuringOperation: false })\r\n                }\r\n                else {\r\n                    try {\r\n                        var obj = JSON.parse(error)\r\n                        console.log(obj.message)\r\n                        this.setState({ InfoMessage: obj.message })\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                    //Another problem...\r\n                    catch (error) {\r\n                        console.log(error);\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    LoadFavouritesRecipes(PageSize, PageNumber) {\r\n        this.setState({ DuringOperation: true })\r\n\r\n        let result = RecipesEndPointAPI.GetFavouritesRecipes(PageSize, PageNumber)\r\n\r\n        result.then(data => {\r\n            console.log(\"Pobrano dane użytkownika\")\r\n           \r\n            this.setState({ Recipes: data })\r\n            this.setState({ DuringOperation: false })\r\n\r\n            if(data.length > 0)\r\n            {\r\n                this.setState({TotalPages : data[0].totalPages})\r\n            }\r\n            else{\r\n                this.setState({TotalPages : 1})\r\n            }\r\n            \r\n            this.NavigationButtonsActiveDeactive(PageNumber)\r\n            this.DonwloadRecipeImage();\r\n        })\r\n            .catch(error => {\r\n                //Connection problem\r\n                if (error == \"TypeError: response.text is not a function\") {\r\n                    this.setState({ InfoMessage: \"Problem z połączeniem\" })\r\n                    console.log('Problem z połączeniem')\r\n                    this.setState({ DuringOperation: false })\r\n                }\r\n                else {\r\n                    try {\r\n                        var obj = JSON.parse(error)\r\n                        console.log(obj.message)\r\n                        this.setState({ InfoMessage: obj.message })\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                    //Another problem...\r\n                    catch (error) {\r\n                        console.log(error);\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    //Get user favourites recipes - All. \r\n    LoadUserData()\r\n    {\r\n        let result = APIHelper.GetUserData()\r\n\r\n        result.then(data => {\r\n            console.log(\"Pobrano dane użytkownika\")\r\n            Authentication.SaveUserData(data);\r\n            this.setState({ isLogged: true })\r\n        })\r\n            .catch(error => {\r\n                //Connection problem\r\n                if (error == \"TypeError: response.text is not a function\") {\r\n                    console.log('Problem z połączeniem')\r\n                    this.setState({ InfoMessage: 'Problem z połączeniem' })\r\n                    this.setState({ DuringOperation: false })\r\n                }\r\n                else {\r\n                    try {\r\n                        var obj = JSON.parse(error)\r\n                        console.log(obj.message)\r\n                        this.setState({ InfoMessage: obj.message })\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                    //Another problem...\r\n                    catch (error) {\r\n                        console.log(error);\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n    DonwloadRecipeImage() {\r\n        let that = this\r\n        let outside\r\n        //this.setState({ DuringOperation: true })\r\n\r\n        this.state.Recipes.forEach(function (item, key) {\r\n\r\n            if (item.nameOfImage === null) {\r\n                item.image =  process.env.REACT_APP_PUBLIC_URL +'/food template.png'\r\n                that.setState({\r\n                    Recipes: that.state.Recipes.map(el => (el.recipeId === item.recipeId ? { ...el, item } : el))\r\n                });\r\n            }\r\n            else {\r\n                let result = RecipesEndPointAPI.DownloadImage(item.nameOfImage)\r\n                result.then(data => {\r\n                    outside = URL.createObjectURL(data)\r\n                    item.image = outside\r\n                    that.setState({\r\n                        Recipes: that.state.Recipes.map(el => (el.recipeId === item.recipeId ? { ...el, item } : el))\r\n                    });\r\n                    that.setState({ DuringOperation: false })\r\n\r\n                })\r\n                    .catch(error => {\r\n                        //Connection problem\r\n                        if (error == \"TypeError: response.text is not a function\") {\r\n                            console.log('Problem z połączeniem')\r\n                            that.setState({ DuringOperation: false })\r\n                        }\r\n                        else {\r\n                            try {\r\n                                var obj = JSON.parse(error)\r\n                                console.log(obj.message)\r\n                                that.setState({ DuringOperation: false })\r\n                            }\r\n                            //Another problem...\r\n                            catch (error) {\r\n                                console.log(error);\r\n                                that.setState({ DuringOperation: false })\r\n                            }\r\n                        }\r\n                    })\r\n            }\r\n        });\r\n    }\r\n\r\n    PreviousPage(){\r\n      if(this.state.UserOrPublicOrFavourites === \"User\")\r\n      {\r\n\r\n        let actualPage = this.state.PageNumberUserRecipes;\r\n\r\n        this.setState(prevstate => ({ PageNumberUserRecipes: prevstate.PageNumberUserRecipes - 1}));\r\n          this.LoadUserRecipes(this.state.PageSize, actualPage - 1)\r\n      }\r\n      else if(this.state.UserOrPublicOrFavourites === \"Public\"){\r\n\r\n        let actualPage = this.state.PageNumberPublicRecipes;\r\n\r\n        this.setState(prevstate => ({ PageNumberPublicRecipes: prevstate.PageNumberPublicRecipes - 1}));\r\n          this.LoadPublicRecipes(this.state.PageSize, actualPage - 1)\r\n      }  \r\n    else if(this.state.UserOrPublicOrFavourites === \"Favourites\"){\r\n\r\n        let actualPage = this.state.PageNumberFavouritesRecipes;\r\n\r\n        this.setState(prevstate => ({ PageNumberFavouritesRecipes: prevstate.PageNumberFavouritesRecipes - 1}));\r\n          this.LoadFavouritesRecipes(this.state.PageSize, actualPage - 1)\r\n    }\r\n}\r\n\r\n    NextPage()\r\n    {\r\n        if(this.state.UserOrPublicOrFavourites === \"User\")\r\n        {\r\n\r\n            let actualPage = this.state.PageNumberUserRecipes;\r\n\r\n            this.setState(prevstate => ({ PageNumberUserRecipes: prevstate.PageNumberUserRecipes + 1}));\r\n            this.LoadUserRecipes(this.state.PageSize, actualPage + 1)\r\n        }\r\n        else if(this.state.UserOrPublicOrFavourites === \"Public\"){\r\n            let actualPage = this.state.PageNumberPublicRecipes;\r\n\r\n            this.setState(prevstate => ({ PageNumberPublicRecipes: prevstate.PageNumberPublicRecipes + 1}));\r\n            this.LoadPublicRecipes(this.state.PageSize, actualPage + 1)\r\n        } \r\n        else if(this.state.UserOrPublicOrFavourites === \"Favourites\"){\r\n\r\n            let actualPage = this.state.PageNumberFavouritesRecipes;\r\n\r\n            this.setState(prevstate => ({ PageNumberFavouritesRecipes: prevstate.PageNumberFavouritesRecipes + 1}));\r\n            this.LoadFavouritesRecipes(this.state.PageSize, actualPage + 1)\r\n    }\r\n}\r\n\r\n    NavigationButtonsActiveDeactive(pageNumber)\r\n    {\r\n        if (pageNumber <= 1)\r\n        {\r\n            this.setState({CanPrevious : false});\r\n        }\r\n        else\r\n        {\r\n            this.setState({CanPrevious : true});\r\n        }\r\n\r\n        if (pageNumber >= this.state.TotalPages)\r\n        {\r\n            this.setState({CanNext : false});\r\n        }\r\n        else\r\n        {\r\n            this.setState({CanNext : true});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.DuringOperation) {\r\n            return (\r\n\r\n                <div class=\"d-flex justify-content-center Center\">\r\n                    <Spinner animation=\"grow\" variant=\"primary\" role=\"status\">\r\n                        <span className=\"sr-only my-auto mx-auto\">Loading...</span>\r\n                    </Spinner>\r\n                </div>\r\n            )\r\n        } else if (this.state.InfoMessage != \"\") {\r\n            return (\r\n                <Alert className=\"text-center mt-3\" variant=\"danger\">\r\n                    {this.state.InfoMessage}\r\n                </Alert>\r\n            )\r\n        }\r\n        else {\r\n\r\n            const recipes = this.state.Recipes.map(item =>{\r\n                return(\r\n                    <Col sm={4} md={3} lg={2} xl={2} as={Link} to={\r\n                        {\r\n                            pathname: `/RecipePreview/${item.recipeId}`,\r\n                            recipeProps: item,\r\n                            UserOrPublicOrFavouritesProps: this.state.UserOrPublicOrFavourites,\r\n                            pageBackUser: this.state.PageNumberUserRecipes,\r\n                            pageBackPublic: this.state.PageNumberPublicRecipes,\r\n                            pageBackFavourites: this.state.PageNumberFavouritesRecipes\r\n                        }} \r\n                         className={ item.DisplayAsPublic ? 'PublicRecipe' : item.DisplayAsFavourite ? 'FavouriteRecipe' : \"NormalRecipe\"} key={item.recipeId}>\r\n    \r\n                        <div className=\"mt-3 singleRecipe\" >\r\n                            <div class=\"d-flex justify-content-center\">\r\n                                <img src={item.image} />\r\n                            </div>\r\n                            <p className=\"text-center\"> {item.name}</p>\r\n                        </div>\r\n                    </Col>\r\n                )\r\n           })\r\n                \r\n            return (\r\n                <Container fluid>\r\n                    <Row className=\"justify-content-center\">\r\n                        {recipes}\r\n\r\n                        <Col md={12}>\r\n                        <div className=\"d-flex justify-content-center mt-3\">\r\n                        <Button className=\"mr-3\" variant=\"primary\" size=\"lg\" disabled={!this.state.CanPrevious} onClick={this.PreviousPage}> &lt;= </Button>\r\n                        <p className=\"mr-3 \">\r\n                        {(() => {\r\n                            switch (this.state.UserOrPublicOrFavourites) {\r\n                            case \"User\":   return \"Strona \" + this.state.PageNumberUserRecipes + \" z \" + this.state.TotalPages;\r\n                            case \"Public\": return \"Strona \" + this.state.PageNumberPublicRecipes + \" z \" + this.state.TotalPages;\r\n                            case \"Favourites\":  return \"Strona \" + this.state.PageNumberFavouritesRecipes + \" z \" + this.state.TotalPages;\r\n                            default:      return \"Strona \" + this.state.PageNumberUserRecipes + \" z \" + this.state.TotalPages;\r\n                            }\r\n                        })()}\r\n                        </p>\r\n            <Button variant=\"primary\" size=\"lg\" disabled={!this.state.CanNext} onClick={this.NextPage}> =&gt; </Button>\r\n\r\n                        </div>\r\n                       \r\n                        </Col>\r\n\r\n                \r\n                    </Row>\r\n                </Container>\r\n\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default Recipes","import React, { Component } from 'react'\r\nimport { RecipesEndPointAPI } from '../API/RecipesEndPointAPI'\r\nimport { Spinner, Container, Row, Col, Alert, Button, Modal } from 'react-bootstrap';\r\nimport { Authentication } from \"../helpers/Authentication\"\r\nimport { APIHelper } from '../API/APIHelper';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nexport * from 'react-router';\r\n\r\nclass RecipePreview extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            Name: \"\",\r\n            Instructions: \"\",\r\n            Ingredients: [],\r\n            Image: \"\",\r\n            nameOfImage: \"\",\r\n            ID: \"\",\r\n            isPublic: false,\r\n            userName: \"\",\r\n            showModal: false,\r\n            RecipeDeleted: false,\r\n            DuringOperation: false,\r\n            InfoMessage: \"\",\r\n            LastVisit : \"\",\r\n            PageBack: \"1\",\r\n            IsFavourite: false,\r\n        }\r\n\r\n        this.handleModalClose = this.handleModalClose.bind(this);\r\n        this.handleModalShow = this.handleModalShow.bind(this);\r\n        this.handleRecipeDelete = this.handleRecipeDelete.bind(this);\r\n        this.handleFavouriteCLick = this.handleFavouriteCLick.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        //Pobierz przepis z przeslanych propsow. Gdy strona odswiezana/ nie ma propsow, pobierz z API\r\n        console.log(this.props.match.params.id)\r\n        try {\r\n            this.setState({ Name: this.props.location.recipeProps.item.name })\r\n            this.setState({ Instructions: this.props.location.recipeProps.item.instruction })\r\n            this.setState({ Ingredients: this.props.location.recipeProps.item.ingredients })\r\n            this.setState({ Image: this.props.location.recipeProps.item.image })\r\n            this.setState({ ID: this.props.location.recipeProps.item.recipeId })\r\n            this.setState({ nameOfImage: this.props.location.recipeProps.item.nameOfImage })\r\n            this.setState({ isPublic: this.props.location.recipeProps.item.isPublic })\r\n            this.setState({ userName: this.props.location.recipeProps.item.userName })\r\n            this.setState({ PageBackUser: (this.props.location.pageBackUser)})\r\n            this.setState({ PageBackPublic: (this.props.location.pageBackPublic)})\r\n            this.setState({ PageBackFavourites: (this.props.location.pageBackFavourites)})\r\n\r\n            let favourites = Authentication.LoadUserFavouritesRecipes()\r\n\r\n            if(favourites.includes(this.props.location.recipeProps.item.recipeId )){\r\n                this.setState({ IsFavourite: (true)})\r\n            }\r\n\r\nif(this.props.location.UserOrPublicOrFavouritesProps === \"User\")\r\n{\r\n    this.setState({ LastVisit: \"/UserRecipes\"})\r\n}\r\nelse if (this.props.location.UserOrPublicOrFavouritesProps === \"Public\")\r\n{\r\n    this.setState({ LastVisit: \"/PublicRecipes\"})\r\n}\r\nelse{\r\n    this.setState({ LastVisit: \"/FavouritesRecipes\"})\r\n}       \r\n        } catch (error) {\r\n            this.setState({ DuringOperation: true })\r\n\r\n            let result = RecipesEndPointAPI.GetRecipeByID(this.props.match.params.id)\r\n            result.then(data => {\r\n                console.log(\"Pobrano przepis \")\r\n                this.setState({ Name: data.name })\r\n                this.setState({ Instructions: data.instruction })\r\n                this.setState({ Ingredients: data.ingredients })\r\n                this.setState({ nameOfImage: data.nameOfImage })\r\n                this.setState({ ID: data.recipeId })\r\n                this.setState({ isPublic: data.isPublic })\r\n                this.setState({ userName: data.userName })\r\n\r\n                this.setState({ LastVisit: \"/UserRecipes\"})\r\n\r\n                let favourites = Authentication.LoadUserFavouritesRecipes()\r\n\r\n                if(favourites.includes(data.recipeId )){\r\n                    this.setState({ IsFavourite: (true)})\r\n                }\r\n\r\n                this.setState({ DuringOperation: false })\r\n                this.DonwloadRecipeImage();\r\n            })\r\n                .catch(error => {\r\n                    //Connection problem\r\n                    if (error == \"TypeError: response.text is not a function\") {\r\n                        console.log('Problem z połączeniem')\r\n                        this.setState({ InfoMessage: \"Problem z połączeniem\"})\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                    else {\r\n                        try {\r\n                            var obj = JSON.parse(error)\r\n                            console.log(obj.message)\r\n                            this.setState({ InfoMessage: obj.message})\r\n                            this.setState({ DuringOperation: false })\r\n                        }\r\n                        //Another problem...\r\n                        catch (error) {\r\n                            console.log(error);\r\n                            this.setState({ DuringOperation: false })\r\n                        }\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n    DonwloadRecipeImage() {\r\n        let that = this\r\n        let outside\r\n\r\n        if (this.state.nameOfImage === null) {\r\n            this.setState({ Image: process.env.REACT_APP_PUBLIC_URL + '/food template.png' })\r\n        }\r\n        else {\r\n\r\n            this.setState({ DuringOperation: true })\r\n            let result = RecipesEndPointAPI.DownloadImage(this.state.nameOfImage)\r\n            result.then(data => {\r\n                console.log(\"Pobrano obrazek\")\r\n                outside = URL.createObjectURL(data)\r\n                this.setState({ Image: outside })\r\n                this.setState({ DuringOperation: false })\r\n            })\r\n                .catch(error => {\r\n                    //Connection problem\r\n                    if (error == \"TypeError: response.text is not a function\") {\r\n                        console.log('Problem z połączeniem')\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                    else {\r\n                        try {\r\n                            var obj = JSON.parse(error)\r\n                            console.log(obj.message)\r\n                            this.setState({ DuringOperation: false })\r\n                        }\r\n                        //Another problem...\r\n                        catch (error) {\r\n                            console.log(error);\r\n                            this.setState({ DuringOperation: false })\r\n                        }\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    handleModalShow(event) {\r\n        this.setState({ showModal: true })\r\n\r\n    }\r\n\r\n    handleModalClose(event) {\r\n        this.setState({ showModal: false })\r\n\r\n    }\r\n\r\n    handleFavouriteCLick(event) {\r\n\r\n        let localBoolFavourites = false;\r\n        let favourites = Authentication.LoadUserFavouritesRecipes()\r\n        let favourtesArr = JSON.parse(favourites);\r\n\r\n        if(this.state.IsFavourite){     \r\n            localBoolFavourites = true;\r\n\r\n            const index = favourtesArr.indexOf(this.state.ID);\r\n            if (index > -1) {\r\n                favourtesArr.splice(index, 1);\r\n            }\r\n        }\r\n        else{\r\n            localBoolFavourites = false;\r\n\r\n            favourtesArr.push(this.state.ID) \r\n        }\r\n\r\n        let arraySemicolon= favourtesArr.join(';')\r\n            \r\n            let result =  APIHelper.EditUser(arraySemicolon)\r\n\r\n            result.then(data => {\r\n                if(localBoolFavourites){\r\n                    console.log(\"Usunięto z ulubionych!\")\r\n                    this.setState({ IsFavourite: (false)})\r\n                }\r\n                else{\r\n                    console.log(\"Dodano do ulubionych!\")\r\n                    this.setState({ IsFavourite: (true)})\r\n                }\r\n\r\n                Authentication.SaveFavouritesRecipes(favourtesArr)\r\n               \r\n            })\r\n                .catch(error => {\r\n                    //Connection problem\r\n                    if (error == \"TypeError: response.text is not a function\") {\r\n                        console.log('Problem z połączeniem')\r\n                    }\r\n                    else {\r\n                        try {\r\n                            var obj = JSON.parse(error)\r\n                            console.log(obj.message)\r\n                        }\r\n                        //Another problem...\r\n                        catch (error) {\r\n                            console.log(error);\r\n                        }\r\n                    }\r\n                })\r\n\r\n        \r\n\r\n    }\r\n\r\n    ModalDelete(props) {\r\n        return (\r\n            <Modal\r\n                {...props}\r\n                size=\"lg\"\r\n                centered\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                        {props.name}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <p>\r\n                        Na pewno chcesz usunąć ten przepis? Operacji nie można cofnąć!\r\n              </p>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"danger\" onClick={props.delete}>Usuń</Button>\r\n                    <Button variant=\"dark\" onClick={props.onHide}>Cofnij</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n    handleRecipeDelete(event) {\r\n        let result = RecipesEndPointAPI.DeleteRecipes(this.state.ID)\r\n\r\n        result.then(data => {\r\n            console.log(\"Usunięto!\")\r\n            this.setState({ RecipeDeleted: true })\r\n        })\r\n            .catch(error => {\r\n                //Connection problem\r\n                if (error == \"TypeError: response.text is not a function\") {\r\n                    console.log('Problem z połączeniem')\r\n                }\r\n                else {\r\n                    try {\r\n                        var obj = JSON.parse(error)\r\n                        console.log(obj.message)\r\n                    }\r\n                    //Another problem...\r\n                    catch (error) {\r\n                        console.log(error);\r\n                    }\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if (this.state.RecipeDeleted === true) {\r\n            return <Redirect to='/Recipes' />\r\n        }\r\n\r\n        let editButton;\r\n        let deleteButton;\r\n        let authorInfo;\r\n        let favouriteButton;\r\n\r\n        if (!this.state.isPublic || this.state.userName === Authentication.LoadUserName()) \r\n        {      editButton =  <Button size=\"lg\" variant=\"outline-dark\" className=\"mr-3 mt-3 mb-3 mx-auto d-block\" as={Link} to={\r\n            {\r\n                pathname: `/Edit/${this.state.ID}`,\r\n                recipeProps: this.state\r\n            }}  >Edytuj</Button> \r\n        \r\n            deleteButton =  <Button onClick={this.handleModalShow} size=\"lg\" variant=\"outline-danger\" className=\"mt-3 mb-3  mx-auto d-block\">Usuń</Button>\r\n        \r\n            authorInfo = null;\r\n            favouriteButton = null;\r\n        } \r\n\r\n        else \r\n        {   editButton = null\r\n            deleteButton = null\r\n\r\n        authorInfo = <p  className=\"text-center\">Autor przepisu: {this.state.userName}</p>\r\n\r\n        favouriteButton =  <Button onClick={this.handleFavouriteCLick} size=\"lg\" variant=\"outline-warning\" className=\"mt-3 mb-3  mx-auto d-block\"> <img className=\"img-fluid imgStar\" \r\n         src= {this.state.IsFavourite ? process.env.REACT_APP_PUBLIC_URL +'/starFull.png' : process.env.REACT_APP_PUBLIC_URL + '/starEmpty.png'} /> </Button>\r\n\r\n         }\r\n\r\n        const ingredients = this.state.Ingredients.map(item =>\r\n            <li>\r\n                {item}\r\n            </li>)\r\n\r\n        if (this.state.DuringOperation) {\r\n            return (\r\n\r\n                <div class=\"d-flex justify-content-center Center\">\r\n                    <Spinner animation=\"grow\" variant=\"primary\" role=\"status\">\r\n                        <span className=\"sr-only my-auto mx-auto\">Loading...</span>\r\n                    </Spinner>\r\n                </div>\r\n            )\r\n        } else if(this.state.InfoMessage != \"\")\r\n        {\r\n            return (\r\n            <Alert className=\"text-center mt-3\"  variant=\"danger\">\r\n            {this.state.InfoMessage}\r\n          </Alert>\r\n          )\r\n        }\r\n        else {\r\n            return (\r\n\r\n                <div>\r\n                    <Container>\r\n                        <Row>\r\n                            <Col md={12}>\r\n                                <h1 className=\"mt-3 mb-3 text-center\">{this.state.Name}</h1>\r\n                            </Col>\r\n\r\n                            <Col md={12}>\r\n                                <p className=\"ml-2 mr-2\" >{this.state.Instructions}</p>\r\n                            </Col>\r\n\r\n                            <Col md={4} className=\"align-self-center\">\r\n                                <ul>\r\n                                    {ingredients}\r\n                                </ul>\r\n                            </Col>\r\n\r\n                            <Col md={8}>\r\n                                <img className=\"img-fluid mx-auto d-block\" src={this.state.Image}></img>\r\n                            </Col>\r\n\r\n                            <Col  >\r\n                                <Button size=\"lg\" variant=\"outline-dark\" className=\"mr-3 mt-3 mb-3 mx-auto d-block\" as={Link} to={\r\n                    {\r\n                        pathname: this.state.LastVisit,\r\n                        pageBackUser: this.state.PageBackUser,\r\n                        pageBackPublic: this.state.PageBackPublic,\r\n                        pageBackFavourites: this.state.PageBackFavourites,\r\n                    }} >Powrót</Button>\r\n                            </Col>\r\n\r\n                            <Col className=\"align-self-center\" >\r\n                               {editButton}\r\n                               {authorInfo}\r\n                           \r\n                            </Col>\r\n                            <Col  >\r\n                               {deleteButton}\r\n                               {favouriteButton}\r\n                            </Col>\r\n\r\n                        </Row>\r\n                    </Container>\r\n\r\n                    <this.ModalDelete\r\n                        show={this.state.showModal}\r\n                        onHide={this.handleModalClose}\r\n                        name={this.state.Name}\r\n                        delete={this.handleRecipeDelete}\r\n                    />\r\n\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default RecipePreview","import React, { useState, useEffect } from 'react'\r\n\r\nfunction About()\r\n{\r\n    const [appVersion, setAppVersion] = useState();\r\n\r\n    const ReactAppVersion = process.env.REACT_APP_VERSION;\r\n\r\n    useEffect(() => {setAppVersion(ReactAppVersion)});\r\n\r\n    return(\r\n        <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <img src = {process.env.REACT_APP_PUBLIC_URL + '/blankicon256.png'}/>\r\n          <p>\r\n           CookBook {appVersion}\r\n          </p>\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://github.com/owik100/cook_book_client_web\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            GitHub\r\n          </a>\r\n        </header>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default About","import React, { Component } from 'react'\r\nimport { Form, Button, Spinner, Alert } from 'react-bootstrap';\r\nimport { Link } from \"react-router-dom\";\r\nimport { APIHelper } from '../API/APIHelper';\r\n\r\nclass RegisterForm extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            Email: \"\",\r\n            Login: \"\",\r\n            Password: \"\",\r\n            ConfirmPassword: \"\",\r\n            InfoMessage: \"\",\r\n            InfoMessageIsError: false,\r\n            DuringOperation: false\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleChange(event) {\r\n        const { name, value } = event.target\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        if (this.CanRegister()) {\r\n            this.setState({ DuringOperation: true })\r\n\r\n            let result = APIHelper.Register(this.state.Email, this.state.Login, this.state.Password, this.state.ConfirmPassword);\r\n            result.then(data => {\r\n                console.log(\"Rejestracja pomyślna! Możesz teraz się zalogować.\")\r\n                this.setState({ InfoMessage: \"Rejestracja pomyślna! Możesz teraz się zalogować.\" })\r\n                this.setState({ InfoMessageIsError: false })\r\n                this.setState({ DuringOperation: false })\r\n                this.ClearForm();\r\n            })\r\n                .catch(error => {\r\n                    //Connection problem\r\n                    if (error == \"TypeError: response.text is not a function\") {\r\n                        console.log('Problem z połączeniem')\r\n                        this.setState({ InfoMessageIsError: true })\r\n                        this.setState({ InfoMessage: 'Problem z połączeniem' })\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                    else {\r\n                        try {\r\n                            var obj = JSON.parse(error)\r\n                            console.log(obj.message)\r\n                            this.setState({ InfoMessageIsError: true })\r\n                            this.setState({ InfoMessage: obj.message })\r\n                            this.setState({ DuringOperation: false })\r\n                        }\r\n                        //Another problem...\r\n                        catch (error) {\r\n                            console.log(error);\r\n                        }\r\n                    }\r\n                })\r\n        }\r\n        event.preventDefault();\r\n    }\r\n\r\n    CanRegister() {\r\n        let output = false;\r\n        if (this.state.Email && this.state.Login && this.state.Password && this.state.ConfirmPassword && !this.state.DuringOperation) {\r\n            if (this.state.Password === this.state.ConfirmPassword) {\r\n                output = true;\r\n                this.setState({ InfoMessageIsError: false })\r\n                this.setState({ InfoMessage: \"\" })\r\n            }\r\n            else {\r\n                this.setState({ InfoMessageIsError: true })\r\n                this.setState({ InfoMessage: \"Hasła nie są takie same\" })\r\n            }\r\n        }\r\n        return output;\r\n    }\r\n\r\n    ClearForm() {\r\n        document.getElementById(\"registerForm\").reset();\r\n\r\n        this.setState({ Email: \"\" })\r\n        this.setState({ Login: \"\" })\r\n        this.setState({ Password: \"\" })\r\n        this.setState({ ConfirmPassword: \"\" })\r\n    }\r\n\r\n    RegisterMessage() {\r\n        if (this.state.DuringOperation) {\r\n            return (\r\n                <div class=\"d-flex justify-content-center\">\r\n                    <Spinner animation=\"grow\" variant=\"primary\" role=\"status\">\r\n                        <span className=\"sr-only my-auto mx-auto\">Loading...</span>\r\n                    </Spinner>\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n            if (this.state.InfoMessage != \"\" && this.state.InfoMessageIsError == false) {\r\n                return (\r\n\r\n                    <Alert className=\"text-center\" variant=\"success\">\r\n                        {this.state.InfoMessage}\r\n                    </Alert>\r\n                );\r\n            }\r\n            else if (this.state.InfoMessage != \"\" && this.state.InfoMessageIsError == true) {\r\n                return (\r\n                    <Alert className=\"text-center mt-3\" variant=\"danger\">\r\n                        {this.state.InfoMessage}\r\n                    </Alert>\r\n                );\r\n            }\r\n            else {\r\n                return null\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div class=\"container\">\r\n                <div class=\"row\">\r\n                    <div class=\"col\">\r\n\r\n                        <Form id=\"registerForm\" onSubmit={this.handleSubmit}>\r\n                            <h1 className=\"display-3 text-center mt-5\">Rejestracja</h1>\r\n\r\n                            {this.RegisterMessage()}\r\n\r\n                            <Form.Group controlId=\"formEmail\">\r\n                                <Form.Label>Email</Form.Label>\r\n                                <Form.Control type=\"email\" placeholder=\"Email\" name=\"Email\" required onChange={this.handleChange} value={this.state.Email} />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formLogin\">\r\n                                <Form.Label>Login</Form.Label>\r\n                                <Form.Control type=\"text\" placeholder=\"Enter login\" name=\"Login\" required onChange={this.handleChange} value={this.state.Login} />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formPassword\">\r\n                                <Form.Label>Hasło</Form.Label>\r\n                                <Form.Control type=\"password\" placeholder=\"Password\" name=\"Password\" required onChange={this.handleChange} value={this.state.Password} />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group controlId=\"formPasswordRepeat\">\r\n                                <Form.Label>Powtórz hasło</Form.Label>\r\n                                <Form.Control type=\"password\" placeholder=\"Password\" name=\"ConfirmPassword\" required onChange={this.handleChange} value={this.state.ConfirmPassword} />\r\n                            </Form.Group>\r\n                            <div class=\"d-flex justify-content-center\">\r\n                                <Button variant=\"primary\" type=\"submit\">\r\n                                    Zarejestruj\r\n                         </Button>\r\n                            </div>\r\n                        </Form>\r\n                    </div>\r\n                </div>\r\n                <div class=\"d-flex justify-content-center\">\r\n                    <Button variant=\"outline-primary\" as={Link} to=\"/Login\" className=\"mt-3\"  >\r\n                        Wróć\r\n            </Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RegisterForm","import React, { Component } from 'react'\r\nimport { RecipesEndPointAPI } from '../API/RecipesEndPointAPI'\r\nimport { Spinner, Container, Row, Col,  Button, Alert, Form, ListGroup } from 'react-bootstrap';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport bsCustomFileInput from 'bs-custom-file-input'\r\n\r\nclass AddOrEdit extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            Edit: false,\r\n            InfoMessage: \"\",\r\n            DuringOperation: false,\r\n            CanSubmit: false,\r\n            RecipeName: \"\",\r\n            Instructions: \"\",\r\n            Ingredients: [],\r\n            IngredientsInput: \"\",\r\n            SelectedIngredient: \"\",\r\n            isPublic: false,\r\n            Image: null,\r\n            ImagePreview: null,\r\n            ImageName: \"\",\r\n            ID: \"\",\r\n            OperationComplete: false\r\n        }\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.onChangeFile = this.onChangeFile.bind(this);\r\n        this.handleIngredientAdd = this.handleIngredientAdd.bind(this);\r\n        this.handleRecipeClick = this.handleRecipeClick.bind(this);\r\n        this.handleIngredientRemove = this.handleIngredientRemove.bind(this);\r\n        this.DeleteImage = this.DeleteImage.bind(this);\r\n        this.handleCheckboxChange = this.handleCheckboxChange.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        bsCustomFileInput.init()\r\n        this.setState({ ImagePreview: process.env.REACT_APP_PUBLIC_URL +'/food template.png' })\r\n\r\n        try {\r\n            if (this.props.match.params.id != 0) {\r\n                this.setState({ Edit: true })\r\n\r\n                //Jezeli edytujemy, wez dane z prospow\r\n                this.setState({ RecipeName: this.props.location.recipeProps.Name })\r\n                this.setState({ Instructions: this.props.location.recipeProps.Instructions })\r\n                this.setState({ Ingredients: this.props.location.recipeProps.Ingredients })\r\n                this.setState({ Image: this.props.location.recipeProps.Image })\r\n                this.setState({ ImagePreview: this.props.location.recipeProps.Image })\r\n                this.setState({ ImageName: this.props.location.recipeProps.nameOfImage })\r\n                this.setState({ ID: this.props.location.recipeProps.ID })\r\n                this.setState({ isPublic: this.props.location.recipeProps.isPublic })\r\n            }\r\n\r\n            //Jak nie da rady pobierz z API\r\n        } catch (error) {\r\n            this.setState({ DuringOperation: true })\r\n\r\n            let result = RecipesEndPointAPI.GetRecipeByID(this.props.match.params.id)\r\n            result.then(data => {\r\n                console.log(\"Pobrano przepis\")\r\n                this.setState({ RecipeName: data.name })\r\n                this.setState({ Instructions: data.instruction })\r\n                this.setState({ Ingredients: data.ingredients })\r\n                this.setState({ ImageName: data.nameOfImage })\r\n                this.setState({ ID: data.recipeId })\r\n                this.setState({ isPublic: data.isPublic })\r\n\r\n                this.setState({ DuringOperation: false })\r\n                this.DonwloadRecipeImage();\r\n            })\r\n                .catch(error => {\r\n                    //Connection problem\r\n                    if (error == \"TypeError: response.text is not a function\") {\r\n                        console.log('Problem z połączeniem')\r\n                        this.setState({ InfoMessage: 'Problem z połączeniem'})\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                    else {\r\n                        try {\r\n                            var obj = JSON.parse(error)\r\n                            console.log(obj.message)\r\n                            this.setState({ InfoMessage: obj.message })\r\n                            this.setState({ DuringOperation: false })\r\n                        }\r\n                        //Another problem...\r\n                        catch (error) {\r\n                            console.log(error);\r\n                            this.setState({ DuringOperation: false })\r\n                        }\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    DonwloadRecipeImage() {\r\n        let that = this\r\n        let outside\r\n\r\n        if (this.state.ImageName === null) {\r\n            this.setState({ ImagePreview: process.env.REACT_APP_PUBLIC_URL + '/food template.png' })\r\n        }\r\n        else {\r\n\r\n            this.setState({ DuringOperation: true })\r\n            let result = RecipesEndPointAPI.DownloadImage(this.state.ImageName)\r\n            result.then(data => {\r\n                console.log(\"Pobrano obrazek\")\r\n                outside = URL.createObjectURL(data)\r\n                this.setState({ Image: outside })\r\n                this.setState({ ImagePreview: outside })\r\n                this.setState({ DuringOperation: false })\r\n            })\r\n                .catch(error => {\r\n                    //Connection problem\r\n                    if (error == \"TypeError: response.text is not a function\") {\r\n                        console.log('Problem z połączeniem')\r\n                        this.setState({ DuringOperation: false })\r\n                    }\r\n                    else {\r\n                        try {\r\n                            var obj = JSON.parse(error)\r\n                            console.log(obj.message)\r\n                            this.setState({ DuringOperation: false })\r\n                        }\r\n                        //Another problem...\r\n                        catch (error) {\r\n                            console.log(error);\r\n                            this.setState({ DuringOperation: false })\r\n                        }\r\n                    }\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    handleChange(event) {\r\n        const { name, value } = event.target\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n    handleCheckboxChange = event =>\r\n    this.setState({ isPublic: event.target.checked })\r\n\r\n    handleIngredientAdd(e) {\r\n        const { IngredientsInput, Ingredients } = this.state;\r\n\r\n        const nextState = [...Ingredients, IngredientsInput];\r\n        this.setState({ Ingredients: nextState, IngredientsInput: '' });\r\n    }\r\n\r\n    handleRecipeClick(e) {\r\n        this.setState({ SelectedIngredient: e.target.innerHTML })\r\n    }\r\n\r\n    handleIngredientRemove(e) {\r\n        const { Ingredients, SelectedIngredient } = this.state;\r\n        const nextState = Ingredients.filter(x => x !== SelectedIngredient)\r\n        this.setState({ Ingredients: nextState, SelectedIngredient: \"\" });\r\n    }\r\n\r\n    onChangeFile(e) {\r\n        this.setState({ InfoMessage: \"\" })\r\n        let fileName = e.target.files[0].name\r\n        let fileExt = fileName.split('.').pop()\r\n\r\n        if (fileExt === \"jpg\" || fileExt === \"jpeg\" || fileExt === \"gif\" || fileExt === \"png\") {\r\n            this.setState({ Image: e.target.files[0] })\r\n            this.setState({ ImageName: fileName })\r\n\r\n            var file = e.target.files[0];\r\n            var reader = new FileReader();\r\n            var url = reader.readAsDataURL(file);\r\n\r\n            reader.onloadend = function (e) {\r\n                this.setState({\r\n                    ImagePreview: [reader.result]\r\n                })\r\n            }.bind(this);\r\n        }\r\n        else {\r\n            this.setState({ InfoMessage: \"Wybierz poprawny format pliku!\" })\r\n        }\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        if (this.CanSubmit()) {\r\n            this.setState({ DuringOperation: true })\r\n            this.setState({ InfoMessage: \"\"})\r\n\r\n            if (this.state.Edit) {\r\n                let result = RecipesEndPointAPI.PutRecipes(this.state.ID, this.state.ID, this.state.RecipeName, this.state.Instructions, this.state.Ingredients, this.state.Image, this.state.ImageName, this.state.isPublic)\r\n                result.then(data => {\r\n                    console.log(\"Przepis zaktualizowany\")\r\n                    this.setState({ DuringOperation: false })\r\n                    this.setState({ OperationComplete: true })\r\n                })\r\n                    .catch(error => {\r\n                        //Connection problem\r\n                        if (error == \"TypeError: response.text is not a function\") {\r\n                            console.log('Problem z połączeniem')\r\n                            this.setState({ InfoMessage: 'Problem z połączeniem'})\r\n                            this.setState({ DuringOperation: false })\r\n                        }\r\n                        else {\r\n                            try {\r\n                                var obj = JSON.parse(error)\r\n                                console.log(obj.message)\r\n                                this.setState({ InfoMessage: obj.message })\r\n                                this.setState({ DuringOperation: false })\r\n                            }\r\n                            //Another problem...\r\n                            catch (error) {\r\n                                console.log(error);\r\n                                this.setState({ DuringOperation: false })\r\n                            }\r\n                        }\r\n                    })\r\n            }\r\n            else {\r\n                let result = RecipesEndPointAPI.InsertRecipe(this.state.RecipeName, this.state.Instructions, this.state.Ingredients, this.state.Image, this.state.isPublic)\r\n                result.then(data => {\r\n                    console.log(\"Przepis dodany\")\r\n                    this.setState({ DuringOperation: false })\r\n                    this.setState({ OperationComplete: true })\r\n                })\r\n                    .catch(error => {\r\n                        //Connection problem\r\n                        if (error == \"TypeError: response.text is not a function\") {\r\n                            console.log('Problem z połączeniem')\r\n                            this.setState({ InfoMessage: 'Problem z połączeniem'})\r\n                            this.setState({ DuringOperation: false })\r\n                        }\r\n                        else {\r\n                            try {\r\n                                var obj = JSON.parse(error)\r\n                                console.log(obj.message)\r\n                                this.setState({ InfoMessage: obj.message })\r\n                                this.setState({ DuringOperation: false })\r\n                            }\r\n                            //Another problem...\r\n                            catch (error) {\r\n                                console.log(error);\r\n                            }\r\n                        }\r\n                    })\r\n            }\r\n\r\n        }\r\n        event.preventDefault();\r\n    }\r\n\r\n    DeleteImage() {\r\n        this.setState({ ImageName: \"\" })\r\n        this.setState({ Image: null })\r\n        this.setState({ ImagePreview: process.env.REACT_APP_PUBLIC_URL + '/food template.png' })\r\n\r\n    }\r\n\r\n    CanSubmit() {\r\n        let output = false;\r\n        if (this.state.RecipeName && this.state.Instructions && this.state.Ingredients.length > 0 && !this.state.DuringOperation && this.state.InfoMessage == \"\") {\r\n            output = true;\r\n        }\r\n        return output;\r\n    }\r\n\r\n    SubmitMessage() {\r\n        if (this.state.DuringOperation) {\r\n            return (\r\n                <div class=\"d-flex justify-content-center\">\r\n                    <Spinner animation=\"grow\" variant=\"primary\" role=\"status\">\r\n                        <span className=\"sr-only my-auto mx-auto\">Loading...</span>\r\n                    </Spinner>\r\n                </div>\r\n            )\r\n        }\r\n        else if (this.state.InfoMessage != \"\") {\r\n            return (\r\n                <Alert className=\"text-center mt-3\"  variant=\"danger\">\r\n                {this.state.InfoMessage}\r\n              </Alert>\r\n              )\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.OperationComplete === true) {\r\n            return <Redirect to='/UserRecipes' />\r\n        }\r\n\r\n        const ingredients = this.state.Ingredients.map(item =>\r\n            <ListGroup.Item as=\"li\" active={this.state.SelectedIngredient === item} className=\"Clickable\" action onClick={this.handleRecipeClick}>\r\n                {item}\r\n            </ListGroup.Item>\r\n        )\r\n\r\n        if (this.state.DuringOperation) {\r\n            return (\r\n\r\n                <div class=\"d-flex justify-content-center Center\">\r\n                    <Spinner animation=\"grow\" variant=\"primary\" role=\"status\">\r\n                        <span className=\"sr-only my-auto mx-auto\">Loading...</span>\r\n                    </Spinner>\r\n                </div>\r\n            )\r\n        }\r\n        else {\r\n\r\n            return (\r\n\r\n                <Form id=\"registerForm\" onSubmit={this.handleSubmit}>\r\n\r\n                    <Container>\r\n                        <Row>\r\n                            <Col md={12}>\r\n                                {this.SubmitMessage()}\r\n\r\n                                <Form.Group controlId=\"formName\">\r\n                                    {/* <Form.Label   className=\"text-center\" style={{width: \"100%\"}}>Nazwa przepisu:</Form.Label> */}\r\n                                    <h3 className=\"text-center mt-3\">Nazwa przepisu:</h3>\r\n                                    <Form.Control type=\"text\" size=\"lg\" name=\"RecipeName\" required onChange={this.handleChange} value={this.state.RecipeName} />\r\n                                </Form.Group>\r\n                            </Col>\r\n\r\n\r\n                            <Col md={8}>\r\n\r\n                                <Form.Group controlId=\"formInstructions\">\r\n                                    {/* <Form.Label className=\"text-center\" style={{width: \"100%\"}} >Przepis:</Form.Label> */}\r\n                                    <h3 className=\"text-center\">Przepis:</h3>\r\n                                    <Form.Control as=\"textarea\" style={{ height: \"400px\" }} size=\"lg\" type=\"text\" name=\"Instructions\" required onChange={this.handleChange} value={this.state.Instructions} />\r\n                                </Form.Group>\r\n\r\n                                <Form.Group controlId=\"formIsPublic\">\r\n                                <Form.Check type=\"checkbox\" label=\"Przepis publiczny\" className=\"CheckBoxIsRecipePublic\" name=\"isPublic\" onChange={this.handleCheckboxChange} checked={this.state.isPublic} />\r\n                                </Form.Group>\r\n                            </Col>\r\n\r\n                            <Col md={4}>\r\n                                <Form.Group controlId=\"formIngredients\">\r\n                                    {/* <Form.Label>Składniki</Form.Label> */}\r\n                                    <h3 className=\"text-center\">Składniki:</h3>\r\n                                    <Form.Control type=\"text\" name=\"IngredientsInput\" onChange={this.handleChange} value={this.state.IngredientsInput} />\r\n                                </Form.Group>\r\n\r\n                                <div class=\"d-flex justify-content-center mb-3\">\r\n                                    <Button disabled={!this.state.IngredientsInput} onClick={this.handleIngredientAdd} className=\"mr-3\">Dodaj</Button>\r\n                                    <Button disabled={!this.state.SelectedIngredient} onClick={this.handleIngredientRemove}>Usuń</Button>\r\n                                </div>\r\n                                <ListGroup id=\"IngredientsGroup\" as=\"ul\">\r\n                                    {ingredients}\r\n                                </ListGroup>\r\n                            </Col>\r\n\r\n                            <Col md={12}>\r\n                                <h3 className=\"text-center\">Obrazek:</h3>\r\n                            </Col>\r\n\r\n                            <Col md={6}>\r\n                                <div class=\"custom-file mb-3\">\r\n                                    <input id=\"formFile\" type=\"file\" class=\"custom-file-input\" accept=\".png, .jpg, .jpeg, .gif\" onChange={this.onChangeFile} />\r\n                                    <label class=\"custom-file-label\" for=\"inputGroupFile01\">Wybierz obrazek</label>\r\n\r\n                                </div>\r\n                            </Col>\r\n\r\n                            <Col md={2}>\r\n                                <div class=\"custom-file mb-3\">\r\n\r\n                                    <div class=\"d-flex justify-content-center\">\r\n                                        <Button variant=\"primary\" onClick={this.DeleteImage} size=\"lg\" disabled={!this.state.ImageName}>\r\n                                            Usuń obrazek\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            </Col>\r\n\r\n                            <Col md={4}>\r\n                                <img className=\"smallImg mx-auto d-block mb-3\" src={this.state.ImagePreview} />\r\n                            </Col>\r\n                            <Col md={12}>\r\n                                <div class=\"d-flex justify-content-center\">\r\n                                    <Button variant=\"primary\" type=\"submit\" size=\"lg\" disabled={!this.CanSubmit()}>\r\n                                        {this.state.Edit ? \"Zaaktualizuj przepis\" : \"Dodaj przepis\"}\r\n                                    </Button>\r\n                                </div>\r\n\r\n                                <div class=\"d-flex justify-content-center mb-3\">\r\n                                    <Button variant=\"outline-primary\" as={Link} to=\"/UserRecipes\" className=\"mt-3\"  >\r\n                                        Wróć\r\n                                </Button>\r\n                                </div>\r\n                            </Col>\r\n                        </Row>\r\n                    </Container>\r\n                </Form>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default AddOrEdit ","import React from 'react';\r\n\r\nimport Header from '../src/components/Header';\r\nimport LoginForm from '../src/components/LoginForm';\r\nimport Main from '../src/Main';\r\nimport Recipes from '../src/components/Recipes'\r\nimport { Authentication } from '../src/helpers/Authentication'\r\nimport RecipePreview from '../src/components/RecipePreview'\r\nimport About from '../src/components/About'\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport $ from 'jquery';\r\nimport Popper from 'popper.js';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\r\n\r\nimport {\r\n  HashRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Link,\r\n  Redirect,\r\n  useHistory,\r\n  useLocation\r\n} from \"react-router-dom\";\r\n\r\nimport RegisterForm from './components/RegisterForm';\r\nimport AddOrEdit from './components/AddOrEdit';\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <Router>\r\n        <Header />\r\n        <Switch>\r\n\r\n          <Route path=\"/Login\" component={LoginForm} />\r\n\r\n          <Route path=\"/Register\" component={RegisterForm} />\r\n\r\n          <Route path=\"/About\" component={About} />\r\n\r\n          <PrivateRoute path=\"/UserRecipes\" component={Recipes} />\r\n\r\n          <PrivateRoute path=\"/PublicRecipes\" component={Recipes} />\r\n\r\n          <PrivateRoute path=\"/FavouritesRecipes\" component={Recipes} />\r\n\r\n\r\n          <PrivateRoute path=\"/RecipePreview/:id\" component={RecipePreview} />\r\n\r\n          <PrivateRoute path=\"/Edit/:id\" component={AddOrEdit} />}/>\r\n\r\n          <PrivateRoute path=\"/\" component={Recipes} />\r\n\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst PrivateRoute = ({ component: Component, exact, strict, path, ...rest }) => (\r\n  <Route {...rest} render={(props) => (\r\n    Authentication.isAuthenticated()\r\n      ? <Component {...props} />\r\n      : <Redirect to={{\r\n        pathname: '/Login',\r\n        state: { from: props.location }\r\n      }} />\r\n  )} />\r\n)\r\n\r\n// function PrivateRoute({ children, ...rest }) {\r\n//   return (\r\n//     <Route\r\n//       {...rest}\r\n//       render={({ location }) =>\r\n//       Authentication.isAuthenticated() ? (\r\n//           children\r\n//         ) : (\r\n//           <Redirect\r\n//             to={{\r\n//               pathname: \"/Login\",\r\n//               state: { from: location }\r\n//             }}\r\n//           />\r\n//         )\r\n//       }\r\n//     />\r\n//   );\r\n// }\r\n\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}